<script src="js/jquery.3.7.1.js"></script>

<script>

    function refresh(form, table) {
        // Limpar a tabela
        $(table+ " tbody").empty();

        async function getting_data() {
            let response = await fetch('adm/async_req.php', {
                method: 'POST',
                headers: {
                    'Accept': 'application/json, text/plain, */*',
                    "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8"
                },
                body: JSON.stringify({
                    query: document.getElementById('form').sqlquery.value
                })
            })
            if (response.status === 200) {
                let data = await response.text();
                
                



            }
        }
        getting_data();
    }

        /*var newData = [

        ];

        // Preencher a tabela com os novos dados
        $.each(newData, function (index, data) {
            $('#dados-table tbody').append(
                '<tr>' +
                '<td>' + data.id + '</td>' +
                '<td>' + data.date + '</td>' +
                '<td>' + data.name + '</td>' +
                '<td>' + data.email + '</td>' +
                '<td>' + data.phone + '</td>' +
                '<td>' + data.units + '</td>' +
                '<td>' + data.address + '</td>' +
                '</tr>'
            );
        });
    }*/

</script>


<form method="post" action="" id="form">
    <input type="text" name="sqlquery" />
    <button onclick="refresh(this, '.table')" type="button">Atualizar</button>
</form>


<table class="table">
    <thead>
        <th>ID</th>
        <th>Data</th>
        <th>Name</th>
        <th>E-mail</th>
        <th>Phone</th>
        <th>Ticket(s)</th>
        <th>Pay ID</th>
    </thead>
    <tbody>
        <tr>
            <td>test</td>
            <td>tickets</td>
            <td>tes</td>
            <td>test</td>
            <td>tickets</td>
            <td>tes</td>
            <td>Testing</td>
        </tr>
        <tr>
            <td>test</td>
            <td>tickets</td>
            <td>tes</td>
            <td>test</td>
            <td>tickets</td>
            <td>tes</td>
            <td>Testing</td>
        </tr>
    </tbody>
</table>